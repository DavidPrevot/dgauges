define([
		"dojo/_base/lang", 
		"dojo/_base/declare", 
		"dojo/on", 
		"dojo/_base/Color", 
		"../GaugeUtils", 
		"../../CircularGauge", 
		"../../LinearScaler", 
		"../../CircularScale", 
		"../../CircularValueIndicator", 
		"../../CircularRangeIndicator"
	], 
	function(lang, declare, on, Color, GaugeUtils, CircularGauge, LinearScaler, CircularScale, CircularValueIndicator, CircularRangeIndicator){

	/*=====
     var CircularGauge = dojox.gauge.CircularGauge;
     =====*/
     
		return declare("dojox.gauge.components.classic.CircularLinearGauge", CircularGauge, {

			constructor: function(args, node){
				var scaler = new LinearScaler();
				this.addElement("background", lang.hitch(this, this.drawBackground));
				var scale = new CircularScale();
				scale.set("scaler", scaler);
				scale.set("originX", 84.00073);
				scale.set("originY", 82.08901);
				scale.set("radius", 66.34216);
				scale.set("startAngle", 115.97439);
				scale.set("endAngle", 61.63095);
				scale.set("orientation", "clockwise");
				scale.set("labelGap", 2);
				scale.set("font", {
					family: "Helvetica",
					weight: 'bold',
					size: "6pt"
				});
				this.addElement("scale", scale);
				var indicator = new CircularValueIndicator();
				indicator.set("interactionArea", "gauge");
				indicator.set("value", scaler.minimum);
				indicator.set("indicatorShapeFunc", function(indicator, group, scale){
			
					var g1 = group.createGroup().setTransform({
						xx: 1,
						xy: 0,
						yx: 0,
						yy: 1,
						dx: -84.89902,
						dy: -82.56611
					});
					g1.createPath({
						path: "M23.1298 46.3054 C31.4767 53.9068 41.1442 61.0159 51.9245 67.2399 C62.7106 73.4673 73.7132 78.2949 84.4751 81.7231 C76.1241 74.1156 66.4451 67.0036 55.657 60.7751 C44.8748 54.55 33.888 49.7334 23.1298 46.3054 Z"
					}).setTransform({
						xx: -0.86716,
						xy: -0.49803,
						yx: 0.49803,
						yy: -0.86716,
						dx: 193.76838,
						dy: 111.1818
					}).setFill({
						type: "radial",
						cx: 84.4751,
						cy: 81.7231,
						r: 24.19075,
						colors: [
							{offset: 0, color: [208,208,208,1]},
							{offset: 1, color: [255,255,255,1]}
						]
					});
					g1.createPath({
						path: "M22.615 46.0143 C31.1008 53.7435 40.9364 60.9668 51.8962 67.2955 C62.8619 73.6276 74.0489 78.5283 84.99 82.0143 C76.4999 74.2787 66.6764 67.0663 55.7087 60.733 C44.747 54.4032 33.5523 49.5 22.615 46.0143 ZM25.9275 47.9205 C35.7107 51.0379 45.6849 55.4158 55.49 61.0768 C65.3004 66.7408 74.1145 73.1899 81.7087 80.108 C71.9221 76.9904 61.9235 72.6148 52.115 66.9518 C42.3116 61.2918 33.5179 54.833 25.9275 47.9205 Z"
					}).setTransform({
						xx: -0.86716,
						xy: -0.49803,
						yx: 0.49803,
						yy: -0.86716,
						dx: 193.76838,
						dy: 111.1818
					}).setFill({
						type: "linear",
						x1: 22.615,
						y1: 46.0143,
						x2: 84.99,
						y2: 82.0143,
						colors: [
							{offset: 0, color: [208,208,208,1]},
							{offset: 1, color: [233,233,233,1]}
						]
					});
					return group;
					
				});
				scale.addIndicator("indicator", indicator);
				this.addElement("foreground", lang.hitch(this, this.drawForeground));
			},

			drawBackground: function(g){
				g.setTransform({
					dx: -0.89829,
					dy: -0.4771
				});
				g.createPath({
					path: "M165.2035 85.9741 C165.2035 131.987 128.6997 169.2879 83.6699 169.2879 C38.6401 169.2879 2.1363 131.987 2.1363 85.9741 C2.1363 39.9611 38.6401 2.6602 83.6699 2.6602 C128.6997 2.6602 165.2035 39.9611 165.2035 85.9741 Z"
				}).setTransform({
					xx: 1.0329,
					xy: 0,
					yx: 0,
					yy: 1.00991,
					dx: -1.30829,
					dy: -2.0897
				}).setFill({
					type: "radial",
					cx: 82.27161,
					cy: 87.19997,
					r: 80.43466,
					colors: [
						{offset: 0, color: [0,0,0,0.62745]},
						{offset: 0.95055, color: [0,0,0,0.62745]},
						{offset: 1, color: [0,0,0,0]}
					]
				});
				g.createPath({
					path: "M84.8704 0.4771 C39.6949 0.4771 2.9491 37.2228 2.9491 82.3984 C2.9491 127.5739 39.6949 164.3197 84.8704 164.3197 C130.0459 164.3197 166.7917 127.574 166.7916 82.3984 C166.7916 37.2229 130.0459 0.4771 84.8704 0.4771 ZM84.8704 8.753 C125.5686 8.753 158.5157 41.7001 158.5157 82.3984 C158.5158 123.0966 125.5686 156.0438 84.8704 156.0438 C44.1721 156.0438 11.225 123.0966 11.225 82.3984 C11.225 41.7002 44.1721 8.753 84.8704 8.753 Z"
				}).setFill([96,102,111,0.83922]);
				g.createPath({
					path: "M215.4039 -84.9392 C215.4039 -65.9156 169.1389 -50.494 112.0682 -50.494 C54.9975 -50.494 8.7326 -65.9156 8.7326 -84.9392 C8.7326 -103.9627 54.9975 -119.3844 112.0682 -119.3844 C169.1389 -119.3844 215.4039 -103.9627 215.4039 -84.9392 Z"
				}).setTransform({
					xx: 0.71184,
					xy: 0,
					yx: 0,
					yy: 2.15424,
					dx: 5.09766,
					dy: 265.36929
				}).setFill({
					type: "linear",
					x1: 8.7326,
					y1: -119.3844,
					x2: 8.7326,
					y2: -50.494,
					colors: [
						{offset: 0, color: [148,152,161,0.98824]},
						{offset: 1, color: [255,255,255,0.98824]}
					]
				});
				g.createPath({
					path: "M84.872 7.3111 C43.7889 7.3111 10.4416 40.9619 10.4416 82.4054 C10.4416 123.8489 43.7889 157.4681 84.872 157.4681 C125.9551 157.4681 159.3023 123.8489 159.3023 82.4054 C159.3023 40.9619 125.9551 7.3111 84.872 7.3111 ZM84.872 8.7971 C125.1402 8.7971 157.8163 41.7839 157.8163 82.4054 C157.8163 123.0269 125.1402 155.982 84.872 155.982 C44.6037 155.982 11.9277 123.0269 11.9277 82.4054 C11.9277 41.7839 44.6037 8.7971 84.872 8.7971 Z"
				}).setFill({
					type: "linear",
					x1: 10.4416,
					y1: 7.3111,
					x2: 10.4416,
					y2: 157.46809,
					colors: [
						{offset: 0, color: [255,255,255,0.98824]},
						{offset: 1, color: [148,152,161,0.98824]}
					]
				});
				g.createPath({
					path: "M408.9537 90.3861 C408.962 96.6434 405.6284 102.429 400.2108 105.5601 C394.7932 108.6911 388.1159 108.6911 382.6983 105.5601 C377.2806 102.429 373.9471 96.6434 373.9554 90.3861 C373.9471 84.1287 377.2806 78.3431 382.6983 75.2121 C388.1159 72.081 394.7932 72.081 400.2108 75.2121 C405.6284 78.3431 408.962 84.1287 408.9537 90.3861 Z"
				}).setTransform({
					xx: 0.67123,
					xy: 0,
					yx: 0,
					yy: 0.67123,
					dx: -178.0527,
					dy: 21.30645
				}).setFill({
					type: "radial",
					cx: 391.45456,
					cy: 90.38606,
					r: 17.51072,
					colors: [
						{offset: 0, color: [0,0,0,1]},
						{offset: 1, color: [0,0,0,0]}
					]
				});
				g.createPath({
					path: "M85.5637 154.202 C121.9475 153.7966 151.5125 124.2654 151.8004 87.7225 C151.8033 87.3621 151.8118 87.001 151.8089 86.6419 C130.8103 96.5326 105.1668 104.5896 79.8633 104.3903 C56.6112 104.207 36.1808 96.4868 17.9117 83.7995 C17.8634 84.7574 17.8136 85.6984 17.8059 86.6666 C17.5146 123.6428 47.2991 153.9004 84.2753 154.1918 C84.7086 154.1952 85.1322 154.2068 85.5637 154.202 Z"
				}).setFill({
					type: "radial",
					cx: 84.80664,
					cy: 154.20315,
					r: 51.10234,
					colors: [
						{offset: 0, color: [255,255,255,1]},
						{offset: 1, color: [255,255,255,0]}
					]
				});
			},


			drawForeground: function(g){
				g.setTransform({
					dx: -0.89829,
					dy: -0.4771
				});
				var g1 = g.createGroup().setTransform({
					xx: 1.47881,
					xy: 0,
					yx: 0,
					yy: 1.47881,
					dx: -128.7635,
					dy: 226.4913
				});
				g1.createPath({
					path: "M154.0331 -104.8439 C154.0331 -99.7938 149.9391 -95.6998 144.889 -95.6998 C139.8388 -95.6998 135.7449 -99.7938 135.7449 -104.8439 C135.7449 -109.8941 139.8388 -113.9881 144.889 -113.9881 C149.9391 -113.9881 154.0331 -109.8941 154.0331 -104.8439 Z"
				}).setTransform({
					xx: 0.69014,
					xy: 0,
					yx: 0,
					yy: 0.69014,
					dx: 44.57903,
					dy: -25.19578
				}).setFill({
					type: "radial",
					cx: 144.889,
					cy: -108.50161,
					r: 18.28825,
					colors: [
						{offset: 0, color: [149,149,149,1]},
						{offset: 0.5, color: [0,0,0,1]},
						{offset: 1, color: [0,0,0,1]}
					]
				});
				g1.createPath({
					path: "M154.0331 -104.8439 C154.0331 -99.7938 149.9391 -95.6998 144.889 -95.6998 C139.8388 -95.6998 135.7449 -99.7938 135.7449 -104.8439 C135.7449 -109.8941 139.8388 -113.9881 144.889 -113.9881 C149.9391 -113.9881 154.0331 -109.8941 154.0331 -104.8439 Z"
				}).setTransform({
					xx: 0.5138,
					xy: 0,
					yx: 0,
					yy: 0.5222,
					dx: 70.12913,
					dy: -42.80383
				}).setFill([105,105,105,0.27451]);
				g1.createPath({
					path: "M154.0331 -104.8439 C154.0331 -99.7938 149.9391 -95.6998 144.889 -95.6998 C139.8388 -95.6998 135.7449 -99.7938 135.7449 -104.8439 C135.7449 -109.8941 139.8388 -113.9881 144.889 -113.9881 C149.9391 -113.9881 154.0331 -109.8941 154.0331 -104.8439 Z"
				}).setTransform({
					xx: 0.48021,
					xy: 0,
					yx: 0,
					yy: 0.46341,
					dx: 74.99582,
					dy: -48.96665
				}).setFill([105,105,105,0.1451]);
				var g2 = g.createGroup().setTransform({
					xx: 1,
					xy: 0,
					yx: 0,
					yy: 1,
					dx: -394.48581,
					dy: -98.42185
				});
				g2.createPath({
					path: "M529.1356 116.3568 C520.5958 109.3338 510.2018 104.4109 497.9828 101.588 C458.6363 92.4978 418.0144 113.168 407.2871 147.6954 C406.7941 149.4317 410.185 150.5336 411.1306 148.0216 C422.0623 116.9051 462.0113 98.691 498.0665 107.0208 C515.6924 111.0929 529.2255 119.8325 538.6533 133.2393 C540.4424 136.1607 544.3683 134.6243 542.6841 131.563 C538.8502 125.7198 534.3455 120.6412 529.1356 116.3568 Z"
				}).setFill({
					type: "linear",
					x1: 407.23841,
					y1: 99.44514,
					x2: 407.23841,
					y2: 124.47007,
					colors: [
						{offset: 0, color: [255,255,255,0.43529]},
						{offset: 1, color: [255,255,255,0]}
					]
				});
				g2.createPath({
					path: "M529.1356 116.3568 C520.5958 109.3338 510.2018 104.4109 497.9828 101.588 C458.6363 92.4978 418.0144 113.168 407.2871 147.6954 C406.7941 149.4317 409.3372 150.2154 410.2827 147.7035 C421.2144 116.587 461.6479 97.7367 497.7032 106.0665 C515.329 110.1386 530.0733 119.7265 539.5011 133.1333 C541.2902 136.0547 544.3683 134.6243 542.6841 131.563 C538.8502 125.7198 534.3455 120.6412 529.1356 116.3568 Z"
				}).setFill({
					type: "linear",
					x1: 407.22432,
					y1: 99.44514,
					x2: 407.22432,
					y2: 124.37564,
					colors: [
						{offset: 0, color: [255,255,255,0.43529]},
						{offset: 1, color: [255,255,255,0]}
					]
				});
				g2.createPath({
					path: "M529.1356 116.3568 C520.5958 109.3338 510.2018 104.4109 497.9828 101.588 C458.6363 92.4978 418.0144 113.168 407.2871 147.6954 C406.7941 149.4317 408.4893 149.6853 409.4349 147.1733 C420.3665 116.0568 461.8902 96.6763 497.9454 105.0061 C515.5713 109.0782 530.5577 119.3024 539.9857 132.7091 C541.7747 135.6305 544.3683 134.6243 542.6841 131.563 C538.8502 125.7198 534.3455 120.6412 529.1356 116.3568 Z"
				}).setFill({
					type: "linear",
					x1: 407.19904,
					y1: 99.44514,
					x2: 407.19904,
					y2: 124.2371,
					colors: [
						{offset: 0, color: [255,255,255,0.43529]},
						{offset: 1, color: [255,255,255,0]}
					]
				});
				g2.createPath({
					path: "M529.1356 116.3568 C520.5958 109.3338 510.2018 104.4109 497.9828 101.588 C458.6363 92.4978 418.0144 113.168 407.2871 147.6954 C406.7941 149.4317 408.1259 148.7309 409.0715 146.2189 C420.0032 115.1024 461.4057 95.4038 497.4609 103.7336 C515.0867 107.8057 530.6789 118.348 540.1068 131.7547 C541.8959 134.6762 544.3683 134.6243 542.6841 131.563 C538.8502 125.7198 534.3455 120.6412 529.1356 116.3568 Z"
				}).setFill({
					type: "linear",
					x1: 407.18096,
					y1: 99.44514,
					x2: 407.18096,
					y2: 124.04937,
					colors: [
						{offset: 0, color: [255,255,255,0.43529]},
						{offset: 1, color: [255,255,255,0]}
					]
				});
				var g3 = g.createGroup().setTransform({
					xx: 0.94519,
					xy: 0,
					yx: 0,
					yy: -1,
					dx: -368.43771,
					dy: 259.00079
				});
				g3.createPath({
					path: "M529.1356 116.3568 C520.5958 109.3338 510.2018 104.4109 497.9828 101.588 C458.6363 92.4978 418.0144 113.168 407.2871 147.6954 C406.7941 149.4317 410.185 150.5336 411.1306 148.0216 C422.0623 116.9051 462.0113 98.691 498.0665 107.0208 C515.6924 111.0929 529.2255 119.8325 538.6533 133.2393 C540.4424 136.1607 544.3683 134.6243 542.6841 131.563 C538.8502 125.7198 534.3455 120.6412 529.1356 116.3568 Z"
				}).setFill({
					type: "linear",
					x1: 407.23841,
					y1: 99.44514,
					x2: 407.23841,
					y2: 124.47007,
					colors: [
						{offset: 0, color: [255,255,255,0.43529]},
						{offset: 1, color: [255,255,255,0]}
					]
				});
				g3.createPath({
					path: "M529.1356 116.3568 C520.5958 109.3338 510.2018 104.4109 497.9828 101.588 C458.6363 92.4978 418.0144 113.168 407.2871 147.6954 C406.7941 149.4317 409.3372 150.2154 410.2827 147.7035 C421.2144 116.587 461.6479 97.7367 497.7032 106.0665 C515.329 110.1386 530.0733 119.7265 539.5011 133.1333 C541.2902 136.0547 544.3683 134.6243 542.6841 131.563 C538.8502 125.7198 534.3455 120.6412 529.1356 116.3568 Z"
				}).setFill({
					type: "linear",
					x1: 407.22432,
					y1: 99.44514,
					x2: 407.22432,
					y2: 124.37564,
					colors: [
						{offset: 0, color: [255,255,255,0.43529]},
						{offset: 1, color: [255,255,255,0]}
					]
				});
				g3.createPath({
					path: "M529.1356 116.3568 C520.5958 109.3338 510.2018 104.4109 497.9828 101.588 C458.6363 92.4978 418.0144 113.168 407.2871 147.6954 C406.7941 149.4317 408.4893 149.6853 409.4349 147.1733 C420.3665 116.0568 461.8902 96.6763 497.9454 105.0061 C515.5713 109.0782 530.5577 119.3024 539.9857 132.7091 C541.7747 135.6305 544.3683 134.6243 542.6841 131.563 C538.8502 125.7198 534.3455 120.6412 529.1356 116.3568 Z"
				}).setFill({
					type: "linear",
					x1: 407.19904,
					y1: 99.44514,
					x2: 407.19904,
					y2: 124.2371,
					colors: [
						{offset: 0, color: [255,255,255,0.43529]},
						{offset: 1, color: [255,255,255,0]}
					]
				});
				g3.createPath({
					path: "M529.1356 116.3568 C520.5958 109.3338 510.2018 104.4109 497.9828 101.588 C458.6363 92.4978 418.0144 113.168 407.2871 147.6954 C406.7941 149.4317 408.1259 148.7309 409.0715 146.2189 C420.0032 115.1024 461.4057 95.4038 497.4609 103.7336 C515.0867 107.8057 530.6789 118.348 540.1068 131.7547 C541.8959 134.6762 544.3683 134.6243 542.6841 131.563 C538.8502 125.7198 534.3455 120.6412 529.1356 116.3568 Z"
				}).setFill({
					type: "linear",
					x1: 407.18096,
					y1: 99.44514,
					x2: 407.18096,
					y2: 124.04937,
					colors: [
						{offset: 0, color: [255,255,255,0.43529]},
						{offset: 1, color: [255,255,255,0]}
					]
				});
			}

		});
	}
);

